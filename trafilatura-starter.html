<!DOCTYPE html>
<html lang="english">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>Trafilatura Starter</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="In a previous post I mentioned using Trafilatura in an AWS Lambda function. Trafilatura's main purpose is to easily extract metadata from..." />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">Dev log</a></h1>
                <nav><ul>
                    <li class="active"><a href="/category/misc.html">misc</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/trafilatura-starter.html" rel="bookmark"
           title="Permalink to Trafilatura Starter">Trafilatura Starter</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2023-09-10T00:00:00-05:00">
                Published: Sun 10 September 2023
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/dev.html">dev</a>
        </address>
<p>In <a href="/category/misc.html">misc</a>.</p>
<p>tags: <a href="/tag/trafilatura.html">Trafilatura</a> </p>
</footer><!-- /.post-info -->      <p>In a previous post I mentioned using Trafilatura in an AWS Lambda function. Trafilatura's main purpose is to easily extract metadata from websites. All web crawling info and web document traversal are abstracted away from the user.</p>
<p>Basic usage:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">trafilatura</span> <span class="kn">import</span> <span class="n">fetch_url</span>
<span class="kn">from</span> <span class="nn">trafilatura</span> <span class="kn">import</span> <span class="n">extract</span><span class="p">,</span> <span class="n">extract_metadata</span>

<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="n">document</span> <span class="o">=</span> <span class="n">fetch_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="n">text</span> <span class="o">=</span> <span class="n">extract</span><span class="p">(</span><span class="n">document</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">extract_metadata</span><span class="p">(</span><span class="n">document</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">metadata</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
</code></pre></div>

<p>The <a href="https://trafilatura.readthedocs.io/en/latest/corefunctions.html#trafilatura.extract_metadata">documentation</a> for extract_metadata states that it returns a "trafilatura.metadata.Document". Unfortunately the only way to truly understand what metadata is available is to look into the source code.</p>
<p><code>trafilatura/metadata.py</code></p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Document</span><span class="p">:</span>
    <span class="s2">&quot;Defines a class to store all necessary data and metadata fields for extracted information.&quot;</span>
    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;author&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">,</span> <span class="s1">&#39;hostname&#39;</span><span class="p">,</span> <span class="s1">&#39;description&#39;</span><span class="p">,</span> <span class="s1">&#39;sitename&#39;</span><span class="p">,</span>
    <span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="s1">&#39;categories&#39;</span><span class="p">,</span> <span class="s1">&#39;tags&#39;</span><span class="p">,</span> <span class="s1">&#39;fingerprint&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;license&#39;</span><span class="p">,</span>
    <span class="s1">&#39;body&#39;</span><span class="p">,</span> <span class="s1">&#39;comments&#39;</span><span class="p">,</span> <span class="s1">&#39;commentsbody&#39;</span><span class="p">,</span> <span class="s1">&#39;raw_text&#39;</span><span class="p">,</span> <span class="s1">&#39;text&#39;</span><span class="p">,</span>
    <span class="s1">&#39;language&#39;</span><span class="p">,</span> <span class="s1">&#39;image&#39;</span><span class="p">,</span> <span class="s1">&#39;pagetype&#39;</span>  <span class="c1"># &#39;locale&#39;?</span>
    <span class="p">]</span>
</code></pre></div>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://getpelican.com/">Pelican</a></li>
                            <li><a href="https://www.python.org/">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>